import{j as e}from"./main-ZGQ9waUT.js";import{c as s,a as i}from"./api--WybffIj.js";import{u as c}from"./useQuery-BfB2vY0N.js";function m({className:t,...a}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:s("w-full caption-bottom text-sm",t),...a})})}function h({className:t,...a}){return e.jsx("thead",{"data-slot":"table-header",className:s("[&_tr]:border-b",t),...a})}function p({className:t,...a}){return e.jsx("tbody",{"data-slot":"table-body",className:s("[&_tr:last-child]:border-0",t),...a})}function b({className:t,...a}){return e.jsx("tfoot",{"data-slot":"table-footer",className:s("bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",t),...a})}function n({className:t,...a}){return e.jsx("tr",{"data-slot":"table-row",className:s("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...a})}function r({className:t,...a}){return e.jsx("th",{"data-slot":"table-head",className:s("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function o({className:t,...a}){return e.jsx("td",{"data-slot":"table-cell",className:s("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function f({className:t,...a}){return e.jsx("caption",{"data-slot":"table-caption",className:s("text-muted-foreground mt-4 text-sm",t),...a})}const j=async()=>{const t=await i.expenses.$get();if(!t.ok)throw new Error("Failed to fetch TotalSpent");return await t.json()},w=async()=>{const t=await i.expenses["total-spent"].$get();if(!t.ok)throw new Error("Failed to fetch TotalSpent");return await t.json()};function N(){const{data:t,isFetching:a}=c({queryKey:["all-expenses"],queryFn:j,staleTime:3e5}),{data:d}=c({queryKey:["total-spent"],queryFn:w,staleTime:300*1e3});return a?"Loading...":e.jsxs(m,{className:"max-w-3xl m-auto",children:[e.jsx(f,{children:"A list of your recent expenses."}),e.jsx(h,{children:e.jsxs(n,{children:[e.jsx(r,{children:"ID"}),e.jsx(r,{children:"Title"}),e.jsx(r,{children:"Amount"})]})}),e.jsx(p,{children:t?.expenses.map(({amount:x,id:l,title:u})=>e.jsxs(n,{children:[e.jsx(o,{className:"font-medium",children:l}),e.jsx(o,{className:"font-medium",children:u}),e.jsx(o,{children:x})]},l))}),e.jsx(b,{children:e.jsxs(n,{children:[e.jsx(o,{colSpan:2,children:"Total"}),e.jsx(o,{children:d?.total})]})})]})}export{N as component};
